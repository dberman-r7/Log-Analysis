# CR-2026-02-11-001: Fix output directory default on macOS, harden CLI/module execution, and keep log selection embedded
- Tests under `tests/`
- `README.md` and `docs/runbooks/log-ingestion-service.md` (usage + config)
- `docs/requirements/rtm.md` (REQ updates / traceability)
- `src/log_ingestion/main.py` (CLI docs and module execution guard)
- `src/log_ingestion/parquet_writer.py` (fail-loudly on unwritable dirs)
- `src/log_ingestion/config.py` (defaulting and validation)
## Affected Components

- Maintains reliability in environments where per-logset endpoints return 404 but `logs_info` is embedded.
- Improves developer/operator experience when running locally or in an IDE.
- Removes a common macOS failure mode (read-only `/data`).
## Business Justification

3. Prevent default writes to `/data` on macOS (read-only) by providing a safe, writable default output directory when `OUTPUT_DIR` isn’t configured.
2. Fix CLI run ergonomics: users should be able to run the service via module execution (`python -m src.log_ingestion.main ...`) without import errors.
1. Ensure the utility’s interactive log selection continues to use embedded `logs_info` from the logsets list response (no per-logset membership endpoints).
## Description

Fix output directory default on macOS, harden CLI/module execution, and keep log selection embedded
## Title

**Priority**: P1-HIGH
**Category**: BUG  
**Date**: 2026-02-11  
**Requestor**: User  

